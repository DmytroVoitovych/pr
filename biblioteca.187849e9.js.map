{"mappings":"oeAGA,IAAAA,EAAAC,EAAA,S,0BCHAC,EAAAD,EAAA,SAIO,MAAME,EAAoB,KAC7BC,QAAQC,IAAIH,EAAAI,KAAKC,YAAYC,SAASC,QACG,IAArCP,EAAAI,KAAKC,YAAYC,SAASC,SAE1BP,EAAAI,KAAKC,YAAYG,MAAMC,OAAS,SDLxCP,QAAQC,IAAI,cAOc,IAAtBO,EAgDkD,WAEpD,MAAMC,EAA0BC,aAAaC,QAAQ,eACrD,IAAIC,EAAc,SACbH,EAGHG,EAAcH,EAFdC,aAAaG,QAAQ,cAAeD,GAItC,OAAOA,EAzDSE,GACdC,EAAO,EAsCkB,IAAWC,IArCTR,EAsCb,IAAIV,EAAAI,KAAKe,iBAAiBb,UAClCc,KAAIC,IACNA,EAAOC,QAAQC,OAASL,GAC1BG,EAAOG,UAAUC,IAAI,eAvC3BzB,EAAAI,KAAKe,iBAAiBO,iBAAiB,SAaf,SAAAC,GAEtB,MAAMC,EAAaD,EAAME,OAAOP,QAAQC,KACxC,GAAIK,IAAelB,EACjB,OAEFA,EAAckB,EACdX,EAAO,EACPL,aAAaG,QAAQ,cAAeL,GACpCoB,EAAOC,IACPd,EAAO,EACPe,IAMgB,IAAIhC,EAAAI,KAAKe,iBAAiBb,UAClCc,KAAIC,GAAUA,EAAOG,UAAUS,OAAO,iBA9BhDjC,EAAAI,KAAK8B,gBAAgBR,iBAAiB,SAuDG,SAATC,GAC9B,MAAMQ,EAAcR,EAAME,OAAOP,QAAQc,KACzC,IAAKD,EACH,OAEFlB,EAAOoB,OAAOF,GACdH,KACA,EAAAM,EAAAC,kBA7DFvC,EAAAI,KAAKoC,SAASd,iBAAiB,WAiFT,WACpBI,EAAOC,IACFD,EAAKvB,OA1FiB,GA0FiB,IAC1CL,QAAQC,IAAI,QACC,IAATc,IACFA,GAAQ,IAGZe,IACC/B,OAxFH,IAAI6B,EAAOC,IA8DX,SAASC,IAEPhC,EAAAI,KAAKC,YAAYoC,UAAY,GAC7BzC,EAAAI,KAAK8B,gBAAgBO,UAAY,GAEjC,MAAMC,EAAWZ,EAAKa,QACpB,CAACC,EAAMC,IACLA,GA9EuB,GA8Eb5B,EAAO,IACjB4B,EA/EuB,EA+Ef5B,KAEZ,EAAAqB,EAAAQ,mBACEJ,EACAzB,EACA8B,KAAKC,KAAKlB,EAAKvB,OApFU,IAoG7B,SAASwB,IACP,MAAMkB,EAAcrC,aAAaC,QAAQ,GAAGH,KAC5C,OAAOwC,KAAKC,MAAMF,IA3FpB,EAAAnD,EAAAsD,eAEApB,IAEA/B","sources":["src/partials/biblioteca/bibl.js","src/js/trackingFunFooter/trackingFunFooter.js"],"sourcesContent":["// корневой js для библиотеки\n\n//окуратно оставляет только основу\nconsole.log('эработаетэ');\nimport { btnDayNight } from '../../js/btnDayNight';\nimport { renderLibraryList, scrollToTop } from '../../js/container';\nimport { refs } from '../../js/refs';\nimport { trackingFunFooter } from '../../js/trackingFunFooter/trackingFunFooter'\n\nconst NUMBER_MOVIE_ON_PAGE = 6; //кількість фільмів на сторінку\nlet activeGroup = getActiveGroup();\nlet page = 1; // watched or queued\naddClassSelectedOnActiveButton(activeGroup); //добавляю клас selected на активну групу\n\nrefs.buttonsContainer.addEventListener('click', onClickButtons);\nrefs.pagginationList.addEventListener('click', onClickPagginationList);\nrefs.backdrop.addEventListener('focusin', onCloseModal);\n\nlet data = getDataActiveGroup();\n\nbtnDayNight();\n\nfetchDataLibrary();\n\ntrackingFunFooter();\n\n//клік по кнопкам вибору групи\nfunction onClickButtons(event) {\n\n  const selectData = event.target.dataset.lang;\n  if (selectData === activeGroup) {\n    return;\n  }\n  activeGroup = selectData;\n  page = 1;\n  localStorage.setItem('activeGroup', activeGroup);\n  data = getDataActiveGroup();\n  page = 1;\n  fetchDataLibrary(data);\n  toggleClassOnButtons(selectData);\n}\n//тоглим класи на кнопках при іншому виборі\nfunction toggleClassOnButtons(currentPage) {\n \n  const buttons = [...refs.buttonsContainer.children];\n  buttons.map(button => button.classList.toggle('selected'));\n}\n\n// добавляєм клас selected для активної групи\nfunction addClassSelectedOnActiveButton(activeGroup) {\n  const buttons = [...refs.buttonsContainer.children];\n  buttons.map(button => {\n    if (button.dataset.lang === activeGroup) {\n      button.classList.add('selected');\n    }\n  });\n}\n// отримуємо активну групу з локалсторадж інакше ставимо активну queued\nfunction getActiveGroup() {\n\n  const checkStorageactiveGroup = localStorage.getItem('activeGroup');\n  let activeGroup = 'queued';\n  if (!checkStorageactiveGroup) {\n    localStorage.setItem('activeGroup', activeGroup);\n  } else {\n    activeGroup = checkStorageactiveGroup;\n  }\n  return activeGroup;\n}\n//обробляється подія при виборі кнопки пагінації\nfunction onClickPagginationList(event) {\n  const currentPage = event.target.dataset.page;\n  if (!currentPage) {\n    return;\n  }\n  page = Number(currentPage);\n  fetchDataLibrary();\n  scrollToTop();\n}\n\nfunction fetchDataLibrary() {\n  \n  refs.galleryList.innerHTML = '';\n  refs.pagginationList.innerHTML = '';\n  \n  const newData =  data.filter(\n    (item, index) =>\n      index >= (page - 1) * NUMBER_MOVIE_ON_PAGE &&\n      index < page * NUMBER_MOVIE_ON_PAGE\n  );\n  renderLibraryList(\n    newData,\n    page,\n    Math.ceil(data.length / NUMBER_MOVIE_ON_PAGE)\n  );\n}\n//подія при закриті модалки\nfunction onCloseModal() {\n  data = getDataActiveGroup();\n  if ( data.length % NUMBER_MOVIE_ON_PAGE === 0) {\n    console.log('ntcn');\n    if (page !== 1) {\n      page -= 1;\n    }\n  }\n  fetchDataLibrary();\n   trackingFunFooter();\n}\n//отримуємо дані з локалсторадж активної групи\nfunction getDataActiveGroup() {\n  const currentData = localStorage.getItem(`${activeGroup}`);\n  return JSON.parse(currentData);\n}\n\n","import { refs } from \"../refs\"\n\n\n\nexport const trackingFunFooter = () => {\n    console.log(refs.galleryList.children.length);\n    if (refs.galleryList.children.length === 0) {\n      \n        refs.galleryList.style.height = `32vh`;\n    }\n    \n    return;\n};"],"names":["$kaaqg","parcelRequire","$krGWQ","$b0a33b98553f75ae$export$57489db88528d424","console","log","refs","galleryList","children","length","style","height","$fdf92f05248c1fff$var$activeGroup","checkStorageactiveGroup","localStorage","getItem","activeGroup2","setItem","$fdf92f05248c1fff$var$getActiveGroup","$fdf92f05248c1fff$var$page","activeGroup1","buttonsContainer","map","button","dataset","lang","classList","add","addEventListener","event","selectData","target","$fdf92f05248c1fff$var$data","$fdf92f05248c1fff$var$getDataActiveGroup","$fdf92f05248c1fff$var$fetchDataLibrary","toggle","pagginationList","currentPage","page","Number","$5zoDb","scrollToTop","backdrop","innerHTML","newData","filter","item","index","renderLibraryList","Math","ceil","currentData","JSON","parse","btnDayNight"],"version":3,"file":"biblioteca.187849e9.js.map"}