{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,cAIC,WACC,IAAMC,EAAO,CACXC,aAAcC,SAASC,cAAc,uBACrCC,cAAeF,SAASC,cAAc,sBACtCE,MAAOH,SAASC,cAAc,gBAC9BG,KAAMJ,SAASC,cAAc,SAS/B,SAASI,IACP,IAAMC,EAAUN,SAASO,gBAAgBC,MAAMC,iBAAiB,cAIjE,OAFCX,EAAKK,MAAMO,UAAUC,OAAO,aAC5BC,OAAOC,iBAAiB,UAAWC,GAChChB,EAAKK,MAAMO,UAAUK,SAAS,cAG/BC,EAAY,OAAQ,GAAI,GAAI,IACrBJ,OAAOK,SAAS,GAA0C,EAAvCC,SAASpB,EAAKM,KAAKI,MAAMW,KAAO,SAI3D,EAAAC,EAAAC,iBAAgBrB,SAASsB,iBAAiB,UAClCN,EAAY,SAAU,GAAWO,OAARjB,GAAW,GAAmBiB,QAAhB,EAAA3B,EAAA4B,kBAAmB,UAGrE,SAASR,EAAYS,EAAIN,EAAKO,EAAIC,GAI9B,OAHC7B,EAAKM,KAAKI,MAAMoB,UAAY,GAAML,OAAHE,GAC9B3B,EAAKM,KAAKI,MAAMqB,SAAW,GAAKN,OAAFI,GAC7B7B,EAAKM,KAAKI,MAAMsB,MAAQ,GAAMP,OAAHG,GACtB5B,EAAKM,KAAKI,MAAMW,IAAM,IAAQI,OAAJJ,GAGtC,SAASL,EAAkBiB,GACzB,GAAe,WAAXA,EAAEC,KAGL,OAFC3B,IACA4B,QAAQC,IAAI,OACLpC,EAAKK,MAAMO,UAAUK,SAAS,cAAmBH,OAAOuB,oBAAoB,UAAWrB,GAlClGhB,EAAKC,aAAac,iBAAiB,QAASR,GAC5CP,EAAKK,MAAMU,iBAAiB,SAoC5B,SAA2BkB,GACjBA,EAAEK,SAAWL,EAAEM,eACfhC,OArCVP,EAAKI,cAAcW,iBAAiB,QAASR,GAV9C,G","sources":["src/js/modal/modalFooterClose.js"],"sourcesContent":["import { controlScreen } from \"./controlScreen\"; \nimport { funcControlArts } from \"../arts\";\n\n\n(() => {  \n  const refs = {\n    openModalBtn: document.querySelector(\".footer__items--ref\"),\n    closeModalBtn: document.querySelector(\"[data-modal-close]\"),\n    modal: document.querySelector(\"[data-modal]\"),\n    body: document.querySelector('body')\n  };\n\n  refs.openModalBtn.addEventListener(\"click\", toggleModal);\n  refs.modal.addEventListener(\"click\", funcClickBackdrop);\n  refs.closeModalBtn.addEventListener(\"click\", toggleModal);\n \n  \n\n  function toggleModal() {\n    const scrollY = document.documentElement.style.getPropertyValue('--scroll-y'); \n    \n    refs.modal.classList.toggle(\"is-hidden\");\n    window.addEventListener(\"keydown\", toggleModalEscape);\n   if (refs.modal.classList.contains(\"is-hidden\")) {\n      // Disable scroll\n      // refs.body.style.overflow = \"hidden\";\n      blockScroll('auto', '', '', '');\n      return window.scrollTo(0, parseInt(refs.body.style.top || '0') * -1);\n      } else {\n      // Enable scroll\n      // refs.body.style.overflow = \"auto\";\n     funcControlArts(document.querySelectorAll('.t-js'))\n     return  blockScroll('scroll', `${scrollY}`, `${controlScreen()}`, 'fixed');\n    }\n  }\n  function blockScroll(ov, top, wd, p){\n       refs.body.style.overflowY = `${ov}`;\n        refs.body.style.position = `${p}`;\n         refs.body.style.width = `${wd}`;\n      return  refs.body.style.top = `-${top}`;\n     }\n     \n  function toggleModalEscape(e) {\n    if (e.code === 'Escape') {\n      toggleModal();\n      console.log('esc');\n     return  refs.modal.classList.contains('is-hidden')   &&  window.removeEventListener('keydown', toggleModalEscape);\n    }   \n  }\n  function funcClickBackdrop(e) {\n        if (e.target === e.currentTarget) {\n            toggleModal();\n         }\n    };\n})();"],"names":["$9WW1v","parcelRequire","refs","openModalBtn","document","querySelector","closeModalBtn","modal","body","toggleModal","scrollY","documentElement","style","getPropertyValue","classList","toggle","window","addEventListener","toggleModalEscape","contains","blockScroll","scrollTo","parseInt","top","$7Y7fB","funcControlArts","querySelectorAll","concat","controlScreen","ov","wd","p","overflowY","position","width","e","code","console","log","removeEventListener","target","currentTarget"],"version":3,"file":"index.4e95503d.js.map"}