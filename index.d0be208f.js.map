{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,cAIC,WACC,IAAMC,EAAO,CACXC,aAAcC,SAASC,cAAc,uBACrCC,cAAeF,SAASC,cAAc,sBACtCE,MAAOH,SAASC,cAAc,gBAC9BG,KAAMJ,SAASC,cAAc,SAS/B,SAASI,IACP,IAAMC,EAAUN,SAASO,gBAAgBC,MAAMC,iBAAiB,cAIjE,OAFCX,EAAKK,MAAMO,UAAUC,OAAO,aAC5BC,OAAOC,iBAAiB,UAAWC,GAChChB,EAAKK,MAAMO,UAAUK,SAAS,cAGhCC,EAAY,OAAQ,GAAI,GAAI,IAC3BlB,EAAKK,MAAMO,UAAUK,SAAS,cAAmBH,OAAOK,oBAAoB,UAAWH,GAChFF,OAAOM,SAAS,GAA0C,EAAvCC,SAASrB,EAAKM,KAAKI,MAAMY,KAAO,SAI3D,EAAAC,EAAAC,iBAAgBtB,SAASuB,iBAAiB,UAClCP,EAAY,SAAU,GAAWQ,OAARlB,GAAW,GAAmBkB,QAAhB,EAAA5B,EAAA6B,kBAAmB,UAGrE,SAAST,EAAYU,EAAIN,EAAKO,EAAIC,GAI9B,OAHC9B,EAAKM,KAAKI,MAAMqB,UAAY,GAAML,OAAHE,GAC9B5B,EAAKM,KAAKI,MAAMsB,SAAW,GAAKN,OAAFI,GAC7B9B,EAAKM,KAAKI,MAAMuB,MAAQ,GAAMP,OAAHG,GACtB7B,EAAKM,KAAKI,MAAMY,IAAM,IAAQI,OAAJJ,GAGtC,SAASN,EAAkBkB,GACzB,GAAe,WAAXA,EAAEC,KAGL,OAFC5B,IACA6B,QAAQC,IAAI,OACLrC,EAAKK,MAAMO,UAAUK,SAAS,cAAmBH,OAAOK,oBAAoB,UAAWH,GAnClGhB,EAAKC,aAAac,iBAAiB,QAASR,GAC5CP,EAAKK,MAAMU,iBAAiB,SAqC5B,SAA2BmB,GACrB,GAAIA,EAAEI,SAAWJ,EAAEK,cAEjB,OADAhC,IACQP,EAAKK,MAAMO,UAAUK,SAAS,cAAmBH,OAAOK,oBAAoB,UAAWH,MAvCvGhB,EAAKI,cAAcW,iBAAiB,QAASR,GAV9C,G","sources":["src/js/modal/modalFooterClose.js"],"sourcesContent":["import { controlScreen } from \"./controlScreen\"; \nimport { funcControlArts } from \"../arts\";\n\n\n(() => {  \n  const refs = {\n    openModalBtn: document.querySelector(\".footer__items--ref\"),\n    closeModalBtn: document.querySelector(\"[data-modal-close]\"),\n    modal: document.querySelector(\"[data-modal]\"),\n    body: document.querySelector('body')\n  };\n\n  refs.openModalBtn.addEventListener(\"click\", toggleModal);\n  refs.modal.addEventListener(\"click\", funcClickBackdrop);\n  refs.closeModalBtn.addEventListener(\"click\", toggleModal);\n \n  \n\n  function toggleModal() {\n    const scrollY = document.documentElement.style.getPropertyValue('--scroll-y'); \n    \n    refs.modal.classList.toggle(\"is-hidden\");\n    window.addEventListener(\"keydown\", toggleModalEscape);\n   if (refs.modal.classList.contains(\"is-hidden\")) {\n      // Disable scroll\n      // refs.body.style.overflow = \"hidden\";\n     blockScroll('auto', '', '', '');\n      refs.modal.classList.contains('is-hidden')   &&  window.removeEventListener('keydown', toggleModalEscape);\n      return window.scrollTo(0, parseInt(refs.body.style.top || '0') * -1);\n      } else {\n      // Enable scroll\n      // refs.body.style.overflow = \"auto\";\n     funcControlArts(document.querySelectorAll('.t-js'))\n     return  blockScroll('scroll', `${scrollY}`, `${controlScreen()}`, 'fixed');\n    }\n  }\n  function blockScroll(ov, top, wd, p){\n       refs.body.style.overflowY = `${ov}`;\n        refs.body.style.position = `${p}`;\n         refs.body.style.width = `${wd}`;\n      return  refs.body.style.top = `-${top}`;\n     }\n     \n  function toggleModalEscape(e) {\n    if (e.code === 'Escape') {\n      toggleModal();\n      console.log('esc');\n     return  refs.modal.classList.contains('is-hidden')   &&  window.removeEventListener('keydown', toggleModalEscape);\n    }   \n  }\n  function funcClickBackdrop(e) {\n        if (e.target === e.currentTarget) {\n          toggleModal();\n          return  refs.modal.classList.contains('is-hidden')   &&  window.removeEventListener('keydown', toggleModalEscape);\n         }\n    };\n})();"],"names":["$9WW1v","parcelRequire","refs","openModalBtn","document","querySelector","closeModalBtn","modal","body","toggleModal","scrollY","documentElement","style","getPropertyValue","classList","toggle","window","addEventListener","toggleModalEscape","contains","blockScroll","removeEventListener","scrollTo","parseInt","top","$7Y7fB","funcControlArts","querySelectorAll","concat","controlScreen","ov","wd","p","overflowY","position","width","e","code","console","log","target","currentTarget"],"version":3,"file":"index.d0be208f.js.map"}