{"mappings":"iiBAIA,IAAAA,EAAAC,EAAA,S,oDCAaC,EAAuB,WAChC,IAAMC,EAAUC,SAASC,cAAc,YAGvC,GAAoC,IAFhBD,SAASC,cAAc,kBAE3BC,SAASC,OAAc,CACvCC,QAAQC,IAAIN,GACR,IAAMO,EAAMN,SAASO,cAAc,OACnCD,EAAIE,aAAa,MAAO,uEAExBT,EAAQU,YAAYH,KDT5BF,QAAQC,IAAI,cAQZ,IA0CwCK,EAzCpCC,EAkDkD,WACpD,IAAMC,EAA0BC,aAAaC,QAAQ,eACjDC,EAAc,SACbH,EAGHG,EAAcH,EAFdC,aAAaG,QAAQ,cAAeD,GAItC,OAAOA,EA1DSE,GACdC,EAAO,EAwC6BR,EAvCTC,EAwCZQ,EAAAvB,EAAA,CAAGwB,EAAAC,KAAKC,iBAAiBpB,UAClCqB,KAAI,SAAAC,GACNA,EAAOC,QAAQC,OAAShB,GAC1Bc,EAAOG,UAAUC,IAAI,eAzC3BR,EAAAC,KAAKC,iBAAiBO,iBAAiB,SAiBf,SAAAC,GACtB,IAAMC,EAAaD,EAAME,OAAOP,QAAQC,KACxC,GAAIK,IAAepB,EACjB,OAEFA,EAAcoB,EACdb,EAAO,EACPL,aAAaG,QAAQ,cAAeL,GACpCsB,EAAOC,IACPhB,EAAO,EACPiB,IAKiBhB,EAAAvB,EAAA,CAAGwB,EAAAC,KAAKC,iBAAiBpB,UAClCqB,KAAI,SAAAC,G,OAAUA,EAAOG,UAAUS,OAAO,kBAhChDhB,EAAAC,KAAKgB,gBAAgBR,iBAAiB,SAwDG,SAATC,GAC9B,IAAMQ,EAAcR,EAAME,OAAOP,QAAQc,KACzC,IAAKD,EACH,OAEFpB,EAAOsB,OAAOF,GACdH,KACA,EAAAM,EAAAC,kBA9DFtB,EAAAC,KAAKsB,SAASd,iBAAiB,WAmFT,YACpBI,EAAOC,KACE/B,OA5FkB,GA4FgB,IACzCC,QAAQC,IAAI,QACC,IAATa,IACFA,GAAQ,IAGZiB,IACFrC,OA1FA,IAAImC,EAAOC,IA+DX,SAASC,IACPf,EAAAC,KAAKuB,YAAYC,UAAY,GAC7BzB,EAAAC,KAAKgB,gBAAgBQ,UAAY,GAEjC,IAAMC,EAAUb,EAAKc,QACnB,SAACC,EAAMC,G,OACLA,GA9EuB,GA8Eb/B,EAAO,IACjB+B,EA/EuB,EA+Ef/B,MAEZ,EAAAuB,EAAAS,mBACEJ,EACA5B,EACAiC,KAAKC,KAAKnB,EAAK9B,OApFU,KAsF3B,EAAAkD,EAAAC,iBAAgBtD,SAASuD,iBAAiB,oBAoB5C,SAASrB,IACP,IAAMsB,EAAc3C,aAAaC,QAAQ,GAAe2C,OAAZ9C,IAC5C,OAAK6C,EAGEE,KAAKC,MAAMH,GAFT,IAlGX,EAAAI,EAAAC,eAEA1B,IACArC,I","sources":["src/partials/biblioteca/bibl.js","src/js/trackingEmptyLibrary/trackingEmptyLibrary.js"],"sourcesContent":["// корневой js для библиотеки\n\n\n//окуратно оставляет только основу\nconsole.log('эработаетэ');\nimport { btnDayNight } from '../../js/btnDayNight';\nimport { renderLibraryList, scrollToTop } from '../../js/container';\nimport { refs } from '../../js/refs';\nimport { funcControlArts } from '../../js/arts';\nimport {trackingEmptyLibrary} from '../../js/trackingEmptyLibrary/trackingEmptyLibrary\n// import { trackingFunFooter } from '../../js/trackingFunFooter/trackingFunFooter';\n\nconst NUMBER_MOVIE_ON_PAGE = 6; //кількість фільмів на сторінку\nlet activeGroup = getActiveGroup();\nlet page = 1; // watched or queued\naddClassSelectedOnActiveButton(activeGroup); //добавляю клас selected на активну групу\n\nrefs.buttonsContainer.addEventListener('click', onClickButtons);\nrefs.pagginationList.addEventListener('click', onClickPagginationList);\nrefs.backdrop.addEventListener('focusin', onCloseModal);\n\nlet data = getDataActiveGroup();\n\nbtnDayNight();\n\nfetchDataLibrary();\ntrackingEmptyLibrary();\n\n// if (data === 0) {\n//   trackingFunFooter();\n// }\n\n\n//клік по кнопкам вибору групи\nfunction onClickButtons(event) {\n  const selectData = event.target.dataset.lang;\n  if (selectData === activeGroup) {\n    return;\n  }\n  activeGroup = selectData;\n  page = 1;\n  localStorage.setItem('activeGroup', activeGroup);\n  data = getDataActiveGroup();\n  page = 1;\n  fetchDataLibrary(data);\n  toggleClassOnButtons(selectData);\n}\n//тоглим класи на кнопках при іншому виборі\nfunction toggleClassOnButtons(currentPage) {\n  const buttons = [...refs.buttonsContainer.children];\n  buttons.map(button => button.classList.toggle('selected'));\n}\n\n// добавляєм клас selected для активної групи\nfunction addClassSelectedOnActiveButton(activeGroup) {\n  const buttons = [...refs.buttonsContainer.children];\n  buttons.map(button => {\n    if (button.dataset.lang === activeGroup) {\n      button.classList.add('selected');\n    }\n  });\n}\n// отримуємо активну групу з локалсторадж інакше ставимо активну queued\nfunction getActiveGroup() {\n  const checkStorageactiveGroup = localStorage.getItem('activeGroup');\n  let activeGroup = 'queued';\n  if (!checkStorageactiveGroup) {\n    localStorage.setItem('activeGroup', activeGroup);\n  } else {\n    activeGroup = checkStorageactiveGroup;\n  }\n  return activeGroup;\n}\n//обробляється подія при виборі кнопки пагінації\nfunction onClickPagginationList(event) {\n  const currentPage = event.target.dataset.page;\n  if (!currentPage) {\n    return;\n  }\n  page = Number(currentPage);\n  fetchDataLibrary();\n  scrollToTop();\n}\n\nfunction fetchDataLibrary() {\n  refs.galleryList.innerHTML = '';\n  refs.pagginationList.innerHTML = '';\n\n  const newData = data.filter(\n    (item, index) =>\n      index >= (page - 1) * NUMBER_MOVIE_ON_PAGE &&\n      index < page * NUMBER_MOVIE_ON_PAGE\n  );\n  renderLibraryList(\n    newData,\n    page,\n    Math.ceil(data.length / NUMBER_MOVIE_ON_PAGE)\n  );\n  funcControlArts(document.querySelectorAll('.gallery__title'));\n  \n}\n//подія при закриті модалки\nfunction onCloseModal() {\n  data = getDataActiveGroup();\n  if (data.length % NUMBER_MOVIE_ON_PAGE === 0) {\n    console.log('ntcn');\n    if (page !== 1) {\n      page -= 1;\n    }\n  }\n  fetchDataLibrary();\ntrackingEmptyLibrary();\n  // if (data === 0) {\n  //   trackingFunFooter();\n  // }\n\n}\n//отримуємо дані з локалсторадж активної групи\nfunction getDataActiveGroup() {\n  const currentData = localStorage.getItem(`${activeGroup}`);\n  if (!currentData) {\n    return [];\n  }\n  return JSON.parse(currentData);\n}\n","\n\n\n\nexport const trackingEmptyLibrary = () => {\n    const gallery = document.querySelector('.gallery'); \n    const galleryList = document.querySelector('.gallery__list')\n\n    if (galleryList.children.length === 0) {\n    console.log(gallery);\n        const img = document.createElement('img');\n        img.setAttribute('src', 'http://www.imgworlds.com/wp-content/uploads/2015/11/novocinema1.jpg');\n\n        gallery.appendChild(img);\n    }\n    \n    return;\n};"],"names":["$8nrFW","parcelRequire","$56994c2a125652f0$export$f9b8cdd432f1249b","gallery","document","querySelector","children","length","console","log","img","createElement","setAttribute","appendChild","activeGroup1","$b4748d14ff43be95$var$activeGroup","checkStorageactiveGroup","localStorage","getItem","activeGroup2","setItem","$b4748d14ff43be95$var$getActiveGroup","$b4748d14ff43be95$var$page","$parcel$interopDefault","$4Nugj","refs","buttonsContainer","map","button","dataset","lang","classList","add","addEventListener","event","selectData","target","$b4748d14ff43be95$var$data","$b4748d14ff43be95$var$getDataActiveGroup","$b4748d14ff43be95$var$fetchDataLibrary","toggle","pagginationList","currentPage","page","Number","$g9G2c","scrollToTop","backdrop","galleryList","innerHTML","newData","filter","item","index","renderLibraryList","Math","ceil","$7Y7fB","funcControlArts","querySelectorAll","currentData","concat","JSON","parse","$7kasF","btnDayNight"],"version":3,"file":"biblioteca.d6ea80a6.js.map"}