!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},r=t.parcelRequirea340;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},t.parcelRequirea340=r);var i=r("h6c0i"),l=r("gqlUR"),c=r("8MBJY"),u=r("a2hTj"),a=(i=r("h6c0i"),l=r("gqlUR"),function(){document.querySelector(".regDiv").classList.toggle("regVis"),document.querySelector(".login100-form-title").classList.toggle("regAc")}),s=function(){"use strict";function t(){e(c)(this,t)}return e(u)(t,null,[{key:"create",value:function(e){return fetch("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=".concat("AIzaSyCJO6J5S13Pdm3k-fiqWujVysknh69eHLg"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.error?(l.Block.remove(".login100-form "),i.Notify.failure("вы уже зарегистрированы")):(console.log("yes"),l.Block.remove(".login100-form "),a(),i.Notify.info("Регистрация успешна"))}))}},{key:"fetch",value:function(e){var t=window.localStorage.getItem("auth");return e?t?(l.Block.remove(".login100-form"),i.Notify.info("Вы уже авторизованы")):(l.Block.remove(".login100-form "),window.localStorage.setItem("auth",JSON.stringify(!0)),i.Notify.success("Вы выпонили авторизацию"),void setTimeout((function(){return window.location.replace("../../biblioteca.html")}),1e3)):(console.log(e),l.Block.remove(".login100-form "),a(),Promise.resolve(i.Notify.info("Зарегистрируйтесь в системе")))}}]),t}();var f=document.querySelector("[data-form]"),d=document.querySelector("[data-registr]");document.querySelector(".login100-form-btn"),document.querySelectorAll(".validate-input");f.addEventListener("submit",(function(e){e.preventDefault();var t,n,o=e.currentTarget.elements.username.value.trim(),r=e.currentTarget.elements.pass.value.trim();if(o&&o.length>=4&&r&&r.length>=4)return console.log(o),console.log(r),e.currentTarget.reset(),l.Block.dots(".login100-form "),(t=o,n=r,fetch("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat("AIzaSyCJO6J5S13Pdm3k-fiqWujVysknh69eHLg"),{method:"POST",body:JSON.stringify({email:t,password:n,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e.idToken}))).then((function(e){return s.fetch(e)}));o&&r?i.Notify.failure("Введите больше символов"):i.Notify.info("поля должны быть заполнены")})),d.addEventListener("submit",(function(e){e.preventDefault();var t=e.currentTarget.elements.username.value.trim(),n=e.currentTarget.elements.email.value.trim(),o=e.currentTarget.elements.passReg.value.trim();if(t&&t.length>=4&&o&&o.length>=6&&n.length>=4){var r={password:o,email:n};return e.currentTarget.reset(),l.Block.dots(".login100-form "),s.create(r)}return t&&o&&n&&n?i.Notify.failure("Введите больше символов"):i.Notify.info("поля должны быть заполнены")})),document.querySelector(".reg").addEventListener("click",a),document.querySelector(".formArrow").addEventListener("click",a),document.querySelector(".homeBtnLink").addEventListener("click",(function(){setTimeout((function(){return window.location.replace("../../index.html")}),1e3)}))}();
//# sourceMappingURL=form.af88e474.js.map
