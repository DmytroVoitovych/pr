var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},r=e.parcelRequirea340;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in o){var r=o[e];delete o[e];var n={id:e,exports:{}};return t[e]=n,r.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},e.parcelRequirea340=r);var n=r("kaaqg"),i=r("5zoDb"),s=r("dy0eF"),a=r("krGWQ"),l=r("iQIUW");r("iQIUW");let u="home";const c=new(0,s.default);function f(){c.fetchTopMovies().then((e=>{g(),(0,i.renderMoviesList)(e,c.pageCounter,c.maxPages)}))}c.getGenresList(),l.Notify.init({position:"center-top",timeout:3e3,distance:"15px",width:"390px",fontSize:"14px",cssAnimationStyle:"from-top",cssAnimationDuration:600,showOnlyTheLastOne:!0,useIcon:!1,clickToClose:!0,failure:{background:"rgba(0,0,0,0.1)",textColor:"#FF001B",notiflixIconColor:"rgba(200,0,0,0.4)"},success:{background:"rgba(0,0,0,0.7)",textColor:"#32c682",notiflixIconColor:"rgba(50,200,130,0.4)"}}),a.refs.pagginationList.addEventListener("click",(function(e){const t=e.target.dataset.page;if(!t)return;c.pageCounter=Number(t),"home"===u?f():c.fetchMovieByQuery().then((e=>{g(),(0,i.renderMoviesList)(e.results,c.pageCounter,c.maxPages)})).catch((e=>e));(0,i.scrollToTop)()})),a.refs.form.addEventListener("submit",(function(e){e.preventDefault();const t=e.currentTarget.elements.searchQuery.value.trim();if(a.refs.form.elements.searchQuery.value="",""===t)return console.log("test"),void l.Notify.failure("Please enter something",{width:"180px"});c.searchQuery=t;const o=c.pageCounter;c.pageCounter=1,c.fetchMovieByQuery().then((e=>{if(console.log(e),0===e.results.length)return l.Notify.failure("Search result not successful.. Enter the correct movie name"),void(c.pageCounter=o);c.maxPages=e.total_pages,u="search",g(),(0,i.renderMoviesList)(e.results,c.pageCounter,c.maxPages)})).catch((e=>e))})),a.refs.galleryList.classList.add("home"),f(),(0,n.btnDayNight)();const d=()=>document.querySelector(".js-auth").setAttribute("href","/js/AutoForm/form.html");function g(){a.refs.galleryList.innerHTML="",a.refs.pagginationList.innerHTML=""}(()=>{if("true"!=(document.querySelector("[data-auth]").dataset=window.localStorage.getItem("auth")))console.log("test"),document.querySelector(".js-auth").addEventListener("click",d)})();
//# sourceMappingURL=index.b825022a.js.map
